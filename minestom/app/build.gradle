plugins {
    alias(libs.plugins.blossom)
    id("java-library")
}

sourceCompatibility = 21
targetCompatibility = 21
dependencies {
    implementation project(':api')

    api('net.kyori:adventure-api:4.21.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'checker-qual')
        exclude(module: 'annotations')
    }
    api('net.kyori:adventure-text-serializer-gson:4.21.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'adventure-api')
        exclude(module: 'gson')
    }
    api('net.kyori:adventure-text-serializer-legacy:4.21.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'adventure-api')
    }
    api('net.kyori:adventure-text-serializer-plain:4.21.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'adventure-api')
    }
    api('net.kyori:adventure-text-minimessage:4.21.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'adventure-api')
    }
    api('net.kyori:adventure-text-serializer-ansi:4.21.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'adventure-api')
        exclude(module: 'annotations')
    }
    api('net.kyori:ansi:1.1.1') {
        exclude(module: 'annotations')
    }
}

blossom {
    replaceTokenIn('src/main/java/me/lucko/luckperms/minestom/app/LuckPermsApplication.java')
    replaceToken '@version@', project.ext.fullVersion
}